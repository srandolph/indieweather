<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script type="text/javascript">
function underWeather(zipcode){
  debugger;
  alert(zipcode + ' ZipCode passed');
  var wugUrl = 'http://api.wunderground.com/api/9c801015ba7ec9b0/forecast/geolookup/q/' + zipcode + '.json' ;
$.ajax({
  url : wugUrl ,
  dataType : 'jsonp',
  success : function(parsed_json) {
  var location = parsed_json['location']['city'];
  var temp_f = parsed_json['current_observation']['temp_f'];
  alert("Current temperature in " + location + " is: " + temp_f);
  }
});
}
</script>
<script type="text/javascript">
    function IsValidZipCode(zip) {
        var isValid = /^[0-9]{5}(?:-[0-9]{4})?$/.test(zip);
        if (isValid){
            alert(zip+' ZipCode');
            underWeather(zip);
            }
        else {
            alert('Invalid ZipCode');
        }
    }
</script>
</head>

<body>

<h1>IndieCIO Weather</h1>

<p id="demo">Enter Zip Code</p>
<form>
<input id="txtZip" name="zip" type="text" /><br />
<input id="Button1" type="submit" value="Enter"
onclick="IsValidZipCode(this.form.zip.value)" />
</form>


</body>
</html>
